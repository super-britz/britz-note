## 双向数据绑定

基于**数据劫持**的双向数据绑定：

1. Object.defineProperty（劫持）
2. Proxy（代理）

通常我们利用 **Object.defineProperty **劫持对象的访问器 getter。

Vue2 不需要显示调用，运用Object.defineProperty结合发布-订阅模式，实现了 state 变化驱动 view 变化。

React 需要显示调用 setState

#### 单向数据流 && 双向数据绑定

通常认为在复杂应用中**双向数据绑定**比不上**单向数据流**带来的优势。

双向和单向只不过是框架封装程度上的差异。

- 单向数据流：
  - 优点：
    - 数据自上而下流动，使得程序更直观更容易理解，有利于应用的可维护性。
    - 所有状态变化都可以被记录、跟踪，状态变化通过手动调用通知，源头易追溯，没有“暗箱操作”。
  - 缺点：
    - 代码量会相应的上升，数据的流转过程变长，从而出现很多类似的"样板代码"
    - 在处理表单（状态较多的场景）会显得啰嗦及繁琐。
- 双向数据绑定：
  - 优点：状态较多的场景会简化操作，写起来比较爽。
  - 缺点：
    - 无法追踪局部状态的变化(虽然大部分情况下我们并不关心)，潜在的行为太多也增加了出错时 debug 的难度。
    - 同时由于组件数据变化来源入口变得可能不止一个，新手玩家很容易将数据流转方向弄得紊乱，如果再缺乏一些“管制”手段，最后就很容易因为一处错误操作造成应用雪崩。